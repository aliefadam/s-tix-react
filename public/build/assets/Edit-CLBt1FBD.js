import{W as f,r as h,j as a}from"./app-DuOYXqGg.js";import{B as j}from"./BreadCrumb-CXiT55GR.js";import{I as D,i as v,D as l,a as T,b as C,c as k}from"./initGoogleMaps-H-wnOJvA.js";import{B as E}from"./Button-BOrPN0Q1.js";import{I as o}from"./InputGroup-BwXS320j.js";import{A as I}from"./AdminLayout-CCwRA_Gh.js";function F({title:d,event:t}){const u={before:[{url:route("admin.event.index"),name:"Event"}],active:d},{data:i,setData:r,post:c,processing:p,errors:n}=f({name:t.name,tax:t.tax,description:t.description,start_date:t.date_start_raw,start_time:t.time_start_raw,end_date:t.date_end_raw,end_time:t.time_end_raw,building_name:t.building_name,address:t.address,maps_link:t.maps_link,banner:null,_method:"PUT"}),x=e=>{const s=e.target.files[0];if(r("banner",s),s){const m=new FileReader;m.onload=function(g){const b=document.getElementById("banner-preview");b.src=g.target.result},m.readAsDataURL(s)}};h.useEffect(()=>{D({id:"description",setData:r,defaultValue:t.description}),v({setData:r,locationFromDatabase:t.maps_link})},[]);const _=e=>{e.preventDefault(),c(route("admin.event.update",t.id),{forceFormData:!0,onError:s=>{console.log(s)}})};return a.jsxs(I,{title:d,children:[a.jsx(j,{breadCrumbData:u}),a.jsx("form",{onSubmit:_,action:"",method:"POST",encType:"multipart/form-data",children:a.jsxs("div",{className:"mt-5 grid grid-cols-12 gap-7 bg-white p-5",children:[a.jsxs("div",{className:"col-span-7",children:[a.jsx("h1",{className:"poppins-semibold text-lg mb-5",children:"Informasi Umum"}),a.jsx(o,{id:"name",label:"Nama Event",onChange:e=>r("name",e.target.value),type:"text",value:i.name,error:n.name}),a.jsx(o,{id:"tax",label:"Pajak (%)",onChange:e=>r("tax",e.target.value),type:"number",value:i.tax,error:n.tax}),a.jsx(o,{id:"description",label:"Deskripsi",onChange:e=>function(){},type:"text",value:i.description,error:n.description}),a.jsxs("div",{className:"mb-5 flex gap-5",children:[a.jsx(l,{idDate:"start_date",idTime:"start_time",label:"Waktu Mulai",errorDate:n.start_date,errorTime:n.start_time,onChangeDate:e=>r("start_date",e.target.value),onChangeTime:e=>r("start_time",e.target.value),valueDate:i.start_date,valueTime:i.start_time}),a.jsx(l,{idDate:"end_date",idTime:"end_time",label:"Waktu Akhir",errorDate:n.end_date,errorTime:n.end_time,onChangeDate:e=>r("end_date",e.target.value),onChangeTime:e=>r("end_time",e.target.value),valueDate:i.end_date,valueTime:i.end_time})]}),a.jsx(T,{data:i,setData:r,errors:n}),a.jsx(C,{})]}),a.jsxs("div",{className:"col-span-5",children:[a.jsx(k,{oldBanner:t.banner,errors:n,onChange:e=>x(e)}),a.jsx("div",{className:"flex justify-end mt-5",children:a.jsx(E,{color:"teal",name:"Simpan Perubahan",type:"submit",processing:p})})]})]})})]})}export{F as default};
