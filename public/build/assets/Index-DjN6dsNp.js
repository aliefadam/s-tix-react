import{j as e,a as n,r as o,q as p,W as h}from"./app-8YKExv4v.js";import{B as u}from"./BreadCrumb-CUBK9H8I.js";import{i as f}from"./initDataTable-tAmJnIBh.js";import{A as j}from"./AdminLayout-7I3CnE3o.js";import{S as i,N as g}from"./notification-D8nuFN0y.js";import{s as y}from"./showConfirmation-2MnBgizT.js";function b(){return e.jsx("thead",{className:"text-xs text-teal-700 uppercase border-b border-t dark:text-teal-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-5",children:"No"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Kode Voucher"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Unit"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Nominal"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Minimal Pembelian"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Maksimal Pemakaian"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-5",children:"Aksi"})]})})}function l({route:t,title:r,onClick:a}){return e.jsx(n,{onClick:a,href:t,className:"block px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:r})}function N({vouchers:t,handleDelete:r}){return e.jsx("tbody",{children:t.map((a,s)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-5",children:s+1}),e.jsx("td",{className:"px-6 py-5",children:a.code}),e.jsx("td",{className:"px-6 py-5 capitalize",children:a.unit}),e.jsx("td",{className:"px-6 py-5",children:a.nominal}),e.jsx("td",{className:"px-6 py-5",children:a.minimal_transaction}),e.jsx("td",{className:"px-6 py-5",children:a.maximal_used}),e.jsx("td",{className:"px-6 py-5",children:a.active?e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:"Aktif"}):e.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"Tidak Aktif"})}),e.jsxs("td",{className:"px-6 py-5",children:[e.jsx("button",{id:`dropdownDefaultButton-${s}`,className:"w-[30px] py-2 px-3 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-md","data-dropdown-toggle":`dropdown-${s}`,children:e.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),e.jsx("div",{id:`dropdown-${s}`,className:"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-32 dark:bg-gray-700",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":`dropdownDefaultButton-${s}`,children:[e.jsx("li",{children:e.jsx(l,{route:route("admin.voucher.edit",a.id),title:"Edit"})}),e.jsx("li",{children:e.jsx(l,{route:"#",title:"Hapus",onClick:d=>r(d,a.id)})})]})})]})]},s))})}function k({vouchers:t,handleDeleteVoucher:r}){return o.useEffect(()=>{f()},[]),e.jsx("div",{className:"relative",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",id:"dataTable",children:[e.jsx(b,{}),e.jsx(N,{vouchers:t,handleDelete:r})]})})}function w(){return e.jsxs("div",{className:"bg-teal-700 rounded-t-md py-4 px-5 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg poppins-medium text-white",children:"Data Voucher"}),e.jsxs(n,{href:route("admin.voucher.create"),className:"bg-white text-teal-700 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 font-medium rounded-md text-sm px-5 py-2.5 text-center",children:[e.jsx("i",{className:"fa-solid fa-plus mr-1.5"}),"Tambah Voucher"]})]})}const v=()=>{i.fire({title:"Loading",allowOutsideClick:!1,didOpen:()=>{i.showLoading()}})};function E({title:t,vouchers:r}){const a={active:t},{notification:s}=p().props;o.useEffect(()=>{s&&g(s)},[s]);const d=h(),c=(x,m)=>{x.preventDefault(),y({title:"Hapus Voucher",text:"Apakah anda yakin menghapus voucher ini ?",onConfirm:()=>{d.delete(route("admin.voucher.delete",m),{onStart:()=>{v()}})}})};return e.jsxs(j,{title:t,children:[e.jsx(u,{breadCrumbData:a}),e.jsxs("div",{className:"mt-5 bg-white shadow-md rounded-md overflow-hiddens",children:[e.jsx(w,{}),e.jsx(k,{vouchers:r,handleDeleteVoucher:c})]})]})}export{E as default};
